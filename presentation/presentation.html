<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Building Web apps with Backbone</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="landslide/themes/default/css/print.css" />
    <link rel="stylesheet" media="screen, projection" href="landslide/themes/default/css/screen.css" />
    
    
      
		<link rel="stylesheet" href="main.css" />
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="landslide/themes/default/js/slides.js"></script>
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Building Web apps with Backbone</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              1/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Hello</h1></header>
            
            
            <section><p>I'm @timruffles</p>
<p>We'll do an hour on Backbone, then do Q&amp;A.</p>
<p><a href="https://github.com/timruffles/backbone-ga-class">github.com/timruffles/backbone-ga-class</a></p>
<p>Example code up above - clone if you've <code>git</code>, or grab the
<code>.zip</code>.</p>
<p>I'll put the slides up later.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              2/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Things I've done with Backbone</h1></header>
            
            
            <section><p>Real time games</p>
<p><img alt="Picklive" src="img/picklive.png" /></p>
<p>Twitter client</p>
<p><img alt="Teach the bird" src="img/teach.png" /></p>
<p>Chrome extensions</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              3/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Backbone is</h1></header>
            
            
            <section><p>Backbone gives you:</p>
<ul>
<li>structure for your app</li>
<li>the boring bits of MVC written for you</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              4/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>What Backbone is not</h1></header>
            
            
            <section><ul>
<li>A DOM Library</li>
<li>An AJAX library</li>
<li>Big: ~1000, well documented, lines of code (read it)</li>
<li>Tied to jQuery (can use Zepto for mobile, Ender, whatever w/adapters)</li>
<li>A framework (Dojo, Ext.JS), AKA everything++</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              5/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>What we'll do</h1></header>
            
            
            <section><h2>Go over</h2>
<ul>
<li>Bird's eye view of a Backbone app</li>
<li>Models</li>
<li>Views</li>
<li>Sync</li>
<li>Routing</li>
</ul>
<h2>With example code</h2></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              6/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Backbone apps</h1></header>
            
            
            <section><p>Are primarily divided between <code>Models</code> and <code>Views</code></p>
<p>Are primarily driven by events from the <code>Models</code> when they change</p>
<p>Handle all user interaction in their <code>Views</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              7/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Bird's eye view</h1></header>
            
            
            <section><p>What you are doing for a user lives in your <code>Models</code></p>
<p>How you interact with the user lives in <code>Views</code></p>
<p>You talk to servers via <code>Backbone.sync</code></p>
<p>You make your app feel like a website with <code>Router</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              8/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Key terms</h1></header>
            
            
            <section><ul>
<li>Domain</li>
<li>Model</li>
<li>State</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              9/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Domain</h1></header>
            
            
            <section><p>The 'problem' this app is solving for its users.</p>
<p>"a specified sphere of activity or knowledge"</p>
<p>Everything users care about - their current score, their bank balance.</p>
<p>All the rules, logic and constraints around this.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              10/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Model</h1></header>
            
            
            <section><p>The representation of our domain in code.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              11/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>State</h1></header>
            
            
            <section><p>What has happened in the domain.</p>
<p>In the domain, you now have have </p>
<ul>
<li>500 points</li>
<li>or £500</li>
<li>or 500 friends.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              12/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>What does Backbone do?</h1></header>
            
            
            <section><ul>
<li>Domain &amp; state lives in <code>Model</code></li>
<li><code>View</code> present and allows user to interact state</li>
<li><code>Sync</code> saves state</li>
<li><code>Router</code> navigates state (for browser apps)</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              13/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>First up: <code>Model</code> aka Brain</h1></header>
            
            
            <section><p><img alt="Brain" src="img/brain.gif" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              14/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Models</h1></header>
            
            
            <section><p>Code handelling the real world processes your app represents or constitues.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              15/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Our example app</h1></header>
            
            
            <section><p>Weight training planner.</p>
<p>Very simple domain - exercises are 1-20 sets of 1-20 reps.</p>
<p>Our <code>Model</code></p>
<ul>
<li>sets attribute</li>
<li>reps attribute</li>
<li>validation: both present, both 1-20</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              16/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Model</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="nx">Exercise</span> <span class="o">=</span> <span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 2</span>   <span class="nx">url</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 3</span>     <span class="k">return</span> <span class="s2">&quot;/exercise&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isNew</span><span class="p">()</span> <span class="o">?</span> <span class="s2">&quot;s&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="lineno"> 4</span>   <span class="p">},</span>
<span class="lineno"> 5</span>   <span class="nx">validate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">attrs</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span><span class="p">)</span>
<span class="lineno"> 7</span>     <span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span><span class="p">)</span>
<span class="lineno"> 8</span>     <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 9</span>     <span class="k">if</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="o">||</span> <span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;sets must be between 1-20&quot;</span><span class="p">);</span>
<span class="lineno">10</span>     <span class="k">if</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="o">||</span> <span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;reps must be between 1-20&quot;</span><span class="p">);</span>
<span class="lineno">11</span>     <span class="k">if</span><span class="p">(</span><span class="nx">errors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">12</span>       <span class="k">return</span> <span class="s2">&quot;Exercise item invalid: &quot;</span> <span class="o">+</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot; and &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">;</span>
<span class="lineno">13</span>     <span class="p">}</span>
<span class="lineno">14</span>   <span class="p">}</span>
<span class="lineno">15</span> <span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              17/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Get a lot for free</h1></header>
            
            
            <section><p>Didn't have to:</p>
<ul>
<li>specify fields (<code>public var int sets</code>, no thanks)</li>
<li>specify setters/getters</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              18/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Key: get/set/on</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">model</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">sets</span><span class="o">:</span><span class="mi">12</span><span class="p">,</span><span class="nx">reps</span><span class="o">:</span><span class="mi">12</span><span class="p">})</span>
<span class="lineno">2</span> <span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;sets&quot;</span><span class="p">)</span> <span class="c1">// 12</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="nx">model</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;change:sets&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">,</span><span class="nx">sets</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">5</span>   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Sets changed to &quot;</span><span class="p">,</span><span class="nx">sets</span><span class="p">)</span>
<span class="lineno">6</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              19/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Set, get and on - core of Model</h1></header>
            
            
            <section><p>Get/set gives us an encapusalted set of attributes.</p>
<p>We get notified whenever they change via <code>Backbone.Events</code>' <code>on</code> method.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">model</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;change:SOMETHING&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">THE_MODEL</span><span class="p">,</span><span class="nx">THE_NEW_VALUE</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="cm">/* do something */</span>
<span class="lineno">3</span>   <span class="kd">var</span> <span class="nx">previousValue</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">previous</span><span class="p">(</span><span class="s2">&quot;SOMETHING&quot;</span><span class="p">);</span>
<span class="lineno">4</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              20/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Previous</h1></header>
            
            
            <section><p>Give us access to previous value of a changed attribute in any <code>change</code>
callback.</p>
<p>Useful for dealing with transitions between state.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="kd">var</span> <span class="nx">previousValue</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">previous</span><span class="p">(</span><span class="s2">&quot;SOMETHING&quot;</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              21/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Knowledge of domain</h1></header>
            
            
            <section><p>Models are smart - here they know everything about what an exercise needs.</p>
<p>We don't want this knowledge <em>anywhere</em> else.</p>
<p>Model owns its state, and rules will always be applied when it wants them to.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              22/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Example - validation</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="nx">Exercise</span> <span class="o">=</span> <span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 2</span>   <span class="nx">validate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">attrs</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 3</span>     <span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span><span class="p">)</span>
<span class="lineno"> 4</span>     <span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span><span class="p">)</span>
<span class="lineno"> 5</span>     <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 6</span>     <span class="k">if</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="o">||</span> <span class="nx">attrs</span><span class="p">.</span><span class="nx">sets</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;sets must be between 1-20&quot;</span><span class="p">);</span>
<span class="lineno"> 7</span>     <span class="k">if</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="o">||</span> <span class="nx">attrs</span><span class="p">.</span><span class="nx">reps</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;reps must be between 1-20&quot;</span><span class="p">);</span>
<span class="lineno"> 8</span>     <span class="k">if</span><span class="p">(</span><span class="nx">errors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 9</span>       <span class="k">return</span> <span class="s2">&quot;Exercise item invalid: &quot;</span> <span class="o">+</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot; and &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">;</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span>   <span class="p">}</span>
<span class="lineno">12</span> <span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              23/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>SPOT</h1></header>
            
            
            <section><p>One place to define/enforce good states for exercise</p>
<p>Single point of truth - SPOT</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">exercise</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">sets</span><span class="o">:-</span><span class="mi">10</span><span class="p">})</span> <span class="c1">// will fail, no matter where it&#39;s called from</span>
</pre></div>

<p>VS <code>non_mvc</code>, where we manually ensure modification
to model occurs with correct domain rules.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="nx">validateExercise</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="lineno">3</span> <span class="p">})</span>
<span class="lineno">4</span> <span class="cm">/* ... */</span>
<span class="lineno">5</span> <span class="nx">list</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;submit&quot;</span><span class="p">,</span><span class="s2">&quot;form&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">6</span>   <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="nx">validateExercise</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="lineno">7</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              24/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Collections</h1></header>
            
            
            <section><p>Simple - a one or models.</p>
<p>Useful collection events: <code>add</code>, <code>remove</code>, <code>reset</code>.</p>
<p>Also delegates all model events:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">exerciseList</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;change:sets&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">collection</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="cm">/* */</span>
<span class="lineno">3</span> <span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              25/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Useful domain tasks</h1></header>
            
            
            <section><ul>
<li>Keep in a certain order: <code>comparator</code> on <code>Model</code></li>
<li>Has all of underscore.js's great methods
-- You can <code>include</code>, <code>shuffle</code>, <code>pluck</code>, <code>reduce</code> (JS 1.8.x method).</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              26/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Proactive - model drives the app</h1></header>
            
            
            <section><p>Drive your app by listening to events on your <code>Models</code> and
<code>Collections</code>.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">model</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
<span class="lineno">2</span> <span class="nx">model</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;change:X&quot;</span><span class="p">)</span>
<span class="lineno">3</span> <span class="nx">model</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;domainSpecificEvent&quot;</span><span class="p">)</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">)</span>
<span class="lineno">6</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;remove&quot;</span><span class="p">)</span>
<span class="lineno">7</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">)</span>
<span class="lineno">8</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;ANY_MODEL_EVENT_DELEGATED&quot;</span><span class="p">)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              27/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Model summary</h1></header>
            
            
            <section><ul>
<li>Hold <em>all</em> domain knowledge</li>
<li>Use events to react to changes in domain state</li>
<li>Validate method to keep our domain in good shape</li>
<li>Use collections to deal with &gt;1 model</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              28/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Next - the dumb view</h1></header>
            
            
            <section><p><img alt="Gump" src="img/gump.jpeg" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              29/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Views</h1></header>
            
            
            <section><p>The frontman - making noise, keeping users entertained.</p>
<p>Dumb - <em>no</em> domain knowledge, has to be told to do 
everything by the model.</p>
<p>Igor to model's Dr Frankestein, Pinky to Brain, George
Bush to Dick Chaney.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              30/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Free goodies from Backbone</h1></header>
            
            
            <section><p>Don't faff around manually creating events, let Backbone do it for you:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">ExerciseList</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="c1">// &quot;EVENT SELECTOR(s)&quot;: &quot;METHOD_NAME&quot;</span>
<span class="lineno">3</span>   <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
<span class="lineno">4</span>     <span class="s2">&quot;click .remove&quot;</span><span class="o">:</span> <span class="s2">&quot;remove&quot;</span><span class="p">,</span>
<span class="lineno">5</span>     <span class="s2">&quot;submit #exercises form&quot;</span><span class="o">:</span> <span class="s2">&quot;update&quot;</span><span class="p">,</span>
<span class="lineno">6</span>     <span class="s2">&quot;submit&quot;</span><span class="o">:</span> <span class="s2">&quot;create&quot;</span>
<span class="lineno">7</span>   <span class="p">}</span>
<span class="lineno">8</span> <span class="p">})</span>
</pre></div>

<p>Will create event delegation on the <code>View</code>'s <code>el</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              31/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>El what?</h1></header>
            
            
            <section><p><code>el</code> is to DOM element a view owns.</p>
<p>You pop a view into the DOM by putting the <code>el</code> into the DOM.</p>
<p>It is created with the view, before the <code>initialize</code> method is called.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              32/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Events roundup</h1></header>
            
            
            <section><ul>
<li>Defined in events object</li>
<li>Bound before initialize via delegation</li>
<li>Therefore change the DOM inside as much as you like, just don't change <code>el</code></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              33/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Other boring bits you don't need to do</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;exercise-list&quot;</span><span class="p">,</span> <span class="c1">// id for el</span>
<span class="lineno">3</span>   <span class="nx">className</span><span class="o">:</span> <span class="s2">&quot;panel mobile&quot;</span><span class="p">,</span> <span class="c1">// class names for el</span>
<span class="lineno">4</span>   <span class="nx">tagName</span><span class="o">:</span> <span class="s2">&quot;ul&quot;</span> <span class="c1">// type of element el will be, defaults to div</span>
<span class="lineno">5</span>   <span class="nx">attrs</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// attributes to set on el</span>
<span class="lineno">6</span>     <span class="nx">draggable</span><span class="o">:</span> <span class="kc">true</span>
<span class="lineno">7</span>   <span class="p">}</span>
<span class="lineno">8</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              34/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Other key bits</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="nx">ExerciseList</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 2</span>   <span class="nx">initialize</span><span class="o">:</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 3</span>     <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">collection</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 4</span>       <span class="k">throw</span> <span class="s2">&quot;Never happens - all assigned for you already from options&quot;</span><span class="p">);</span>
<span class="lineno"> 5</span>     <span class="p">}</span>
<span class="lineno"> 6</span>     <span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">fadeIn</span><span class="p">()</span> <span class="c1">// a pre-DOM-library-wrapped pointer to el</span>
<span class="lineno"> 7</span>     <span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.exercises&quot;</span><span class="p">)</span> <span class="c1">// and a selector with context preset to el</span>
<span class="lineno"> 8</span>   <span class="p">}</span>
<span class="lineno"> 9</span> <span class="p">})</span>
<span class="lineno">10</span> <span class="k">new</span> <span class="nx">ExerciseList</span><span class="p">({</span>
<span class="lineno">11</span>   <span class="nx">model</span><span class="o">:</span> <span class="nx">user</span><span class="p">,</span>
<span class="lineno">12</span>   <span class="nx">collection</span><span class="o">:</span> <span class="nx">exercises</span>
<span class="lineno">13</span> <span class="p">})</span>
<span class="lineno">14</span> <span class="c1">// no errors!</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              35/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Don't do <em>and then</em></h1></header>
            
            
            <section><p>Don't do <em>and then</em>, do and rely on defined callbacks</p>
<p>Don't manipulate model state like:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">team</span><span class="p">.</span><span class="nx">addPlayer</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span> <span class="c1">// change state</span>
<span class="lineno">2</span> <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span> <span class="c1">// update view</span>
</pre></div>

<p>Boo. What happens when someone else changes the domain in the same way?</p>
<p>We would still want the <code>View</code> or other code to react in the same way.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              36/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Always listen to the model, it's smart</h1></header>
            
            
            <section><p>Smart models, dumb views, happy apps.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">ExerciseList</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;render&quot;</span><span class="p">,</span><span class="s2">&quot;error&quot;</span><span class="p">);</span>
<span class="lineno">3</span>   <span class="k">this</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;add remove reset change&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span>
<span class="lineno">4</span>   <span class="k">this</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
<span class="lineno">5</span>   <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="lineno">6</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              37/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1><code>View</code> not limited to DOM</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">SpaceInvadersRenderer</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;render&quot;</span><span class="p">)</span>
<span class="lineno">4</span>     <span class="k">this</span><span class="p">.</span><span class="nx">ctx</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&quot;2d&quot;</span><span class="p">);</span>
<span class="lineno">5</span>     <span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span>
<span class="lineno">6</span>   <span class="p">}</span>
<span class="lineno">7</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              38/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Sound</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">Sound</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="cm">/* assignment */</span>
<span class="lineno">4</span>     <span class="k">this</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;start&quot;</span><span class="p">,</span><span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">play</span><span class="p">,</span><span class="s2">&quot;whistle&quot;</span><span class="p">))</span>
<span class="lineno">5</span>     <span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;foul&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">randomGroan</span><span class="p">)</span>
<span class="lineno">6</span>     <span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;goal&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">randomCheer</span><span class="p">)</span>
<span class="lineno">7</span>   <span class="p">}</span>
<span class="lineno">8</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              39/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Logging</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">Logger</span> <span class="o">=</span> <span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="cm">/* assignment */</span>
<span class="lineno">4</span>     <span class="k">this</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">userAudit</span><span class="p">)</span>
<span class="lineno">5</span>     <span class="k">this</span><span class="p">.</span><span class="nx">songs</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">songAudit</span><span class="p">)</span>
<span class="lineno">6</span>   <span class="p">}</span>
<span class="lineno">7</span> <span class="p">})</span>
</pre></div>

<p>Logging is likely non-domain, makes sense to keep it as a 'view' of it instead.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              40/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Templates</h1></header>
            
            
            <section><p>Easiest way to write DOM.</p>
<p>I'd recommend Mustache or other code-free templates.</p>
<p>Too much to go into depth.</p>
<p>Ideally load templates via <code>require.js</code> or similar, again too much to
discuss.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              41/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Templates are easy</h1></header>
            
            
            <section><p>Very simple - I define:</p>
<p>A <code>transform</code> function that makes a JSON
representation of the <code>Views</code> model</p>
<p>A <code>render</code> function like that passes it to template</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="nx">transform</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="c1">// an object</span>
<span class="lineno">3</span> <span class="p">}</span>
<span class="lineno">4</span> <span class="nx">render</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">5</span>   <span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">Mustache</span><span class="p">.</span><span class="nx">to_html</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">template</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">())</span>
<span class="lineno">6</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              42/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>View summary</h1></header>
            
            
            <section><ul>
<li>Dumb</li>
<li>Reactive - never update model <em>and then</em></li>
<li>Use templates for DOM</li>
<li>Not tied to DOM - any non-domain representation of model</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              43/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Sync</h1></header>
            
            
            <section><p>If we can't store the state of our domain, we don't really have much of an app.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              44/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Backbone sync</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">sync</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span><span class="nx">model</span><span class="p">,</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="cm">/* default REST implementation */</span>
<span class="lineno">3</span> <span class="p">}</span>
</pre></div>

<ul>
<li>One signature, many potential implementations.</li>
<li>Not limited to REST verbs - I've used <code>keepUpdated</code> for Pusher/Polling</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              45/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Switch on context</h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">2</span>   <span class="nx">sync</span><span class="o">:</span> <span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="k">if</span><span class="p">(</span><span class="nx">method</span> <span class="o">==</span> <span class="s2">&quot;keepUpdated&quot;</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">4</span>       <span class="nx">Pusher</span><span class="p">.</span><span class="nx">sync</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">Pusher</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span>
<span class="lineno">5</span>     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="lineno">6</span>       <span class="nx">Backbone</span><span class="p">.</span><span class="nx">sync</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">Backbone</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span>
<span class="lineno">7</span>     <span class="p">}</span>
<span class="lineno">8</span>   <span class="p">}</span>
<span class="lineno">9</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              46/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Overriding encouraged</h1></header>
            
            
            <section><p>Very simple to override - without legacy is ~10 lines of code.</p>
<p>Default is REST with all heavy lifting done by DOM library.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              47/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Drives persistance of <code>Model</code></h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="nx">model</span><span class="p">.</span><span class="nx">fetch</span><span class="p">()</span> <span class="c1">// Backbone.sync(&quot;read&quot;,model,options)</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span> <span class="c1">// save method depends on model.isNew()</span>
<span class="lineno"> 4</span> <span class="c1">// Backbone.sync(&quot;create OR update&quot;,model,{success,error})</span>
<span class="lineno"> 5</span> <span class="nx">model</span><span class="p">.</span><span class="nx">save</span><span class="p">({</span><span class="nx">someUpdate</span><span class="o">:</span><span class="s2">&quot;toAttributes&quot;</span><span class="p">},{</span>
<span class="lineno"> 6</span>   <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">...</span>
<span class="lineno"> 7</span>   <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">()..</span>
<span class="lineno"> 8</span> <span class="p">})</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span> <span class="c1">// Backbone.sync(&quot;delete&quot;,model,options)</span>
<span class="lineno">11</span> <span class="nx">model</span><span class="p">.</span><span class="nx">destroy</span><span class="p">()</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              48/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>And <code>Collection</code></h1></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="c1">// same as model.save() on new model</span>
<span class="lineno">2</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">attributes</span><span class="p">,{</span>
<span class="lineno">3</span>   <span class="nx">wait</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// don&#39;t add to collection till server OKs</span>
<span class="lineno">4</span> <span class="p">})</span>
<span class="lineno">5</span> 
<span class="lineno">6</span> <span class="c1">// Backbone.sync(&quot;read&quot;,collection,options)</span>
<span class="lineno">7</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">fetch</span><span class="p">()</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              49/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Sync summary</h1></header>
            
            
            <section><ul>
<li>Keep all persistance implementation here</li>
<li>Implementation behind <code>Model</code>'s persistance methods</li>
<li>REST implementation free, easy to implement yourself</li>
<li>Inspiringly simple piece of API design - like lego</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              50/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Routing</h1></header>
            
            
            <section><p>Triggers callbacks when URL matches certain patterns.</p>
<p>Can extract paramters from URL via <code>:paramName</code> in routes</p>
<p>Converted to regex internally</p>
<div class="highlight"><pre><span class="lineno"> 1</span>  <span class="kd">var</span> <span class="nx">AppRouter</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Router</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 2</span>     <span class="nx">routes</span><span class="o">:</span> <span class="p">{</span>
<span class="lineno"> 3</span>       <span class="s2">&quot;&quot;</span><span class="o">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
<span class="lineno"> 4</span>       <span class="s2">&quot;exercises/:id&quot;</span><span class="o">:</span> <span class="s2">&quot;show&quot;</span>
<span class="lineno"> 5</span>     <span class="p">},</span>
<span class="lineno"> 6</span>     <span class="nx">list</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 7</span>     <span class="p">},</span>
<span class="lineno"> 8</span>     <span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 9</span>     <span class="p">}</span>
<span class="lineno">10</span>   <span class="p">});</span>
<span class="lineno">11</span> 
<span class="lineno">12</span>   <span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppRouter</span><span class="p">()</span>
<span class="lineno">13</span>   <span class="nx">Backbone</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">start</span><span class="p">({</span><span class="nx">pushState</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              51/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Role of router</h1></header>
            
            
            <section><p>If there's a chance you'll go mobile etc, might be wise to avoid
overdependence on router</p>
<p>One pattern I've used is an App <code>ViewModel</code> - simply using a model to
represent the state of your view.</p>
<p>With <code>ViewModel</code> pattern, <code>Router</code> is one input to view state - commands
or loaded data could be another</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              52/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Router summary</h1></header>
            
            
            <section><ul>
<li>Simple routing via hashChange or pushState</li>
<li>Routes urls and fires callbacks, with extracted params</li>
<li>Consider use case</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              53/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Backbone roundup</h1></header>
            
            
            <section><p>What you are doing for a user lives in your <code>Models</code></p>
<p>How you interact with the user lives in <code>Views</code></p>
<p>You talk to servers via <code>Backbone.sync</code></p>
<p>You make your app feel like a website with <code>Router</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              54/55
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Question time</h1></header>
            
            
            <section><p>@timruffles</p>
<p><a href="truffles.me.uk">truffles.me.uk</a> - about to run a series on Backbone
testing</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.md">slides.md</a>
            </aside>
            
            <aside class="page_number">
              55/55
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">Building Web apps with Backbone</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Hello</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">Things I've done with Backbone</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Backbone is</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">What Backbone is not</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">What we'll do</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Backbone apps</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">Bird's eye view</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Key terms</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Domain</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Model</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">State</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">What does Backbone do?</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">First up: <code>Model</code> aka Brain</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Models</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Our example app</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Model</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">Get a lot for free</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Key: get/set/on</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Set, get and on - core of Model</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Previous</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Knowledge of domain</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">Example - validation</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">SPOT</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">Collections</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Useful domain tasks</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">Proactive - model drives the app</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">Model summary</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">Next - the dumb view</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">Views</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">Free goodies from Backbone</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
      <tr id="toc-row-32">
        <th><a href="#slide32">El what?</a></th>
        <td><a href="#slide32">32</a></td>
      </tr>
      
      
      <tr id="toc-row-33">
        <th><a href="#slide33">Events roundup</a></th>
        <td><a href="#slide33">33</a></td>
      </tr>
      
      
      <tr id="toc-row-34">
        <th><a href="#slide34">Other boring bits you don't need to do</a></th>
        <td><a href="#slide34">34</a></td>
      </tr>
      
      
      <tr id="toc-row-35">
        <th><a href="#slide35">Other key bits</a></th>
        <td><a href="#slide35">35</a></td>
      </tr>
      
      
      <tr id="toc-row-36">
        <th><a href="#slide36">Don't do <em>and then</em></a></th>
        <td><a href="#slide36">36</a></td>
      </tr>
      
      
      <tr id="toc-row-37">
        <th><a href="#slide37">Always listen to the model, it's smart</a></th>
        <td><a href="#slide37">37</a></td>
      </tr>
      
      
      <tr id="toc-row-38">
        <th><a href="#slide38"><code>View</code> not limited to DOM</a></th>
        <td><a href="#slide38">38</a></td>
      </tr>
      
      
      <tr id="toc-row-39">
        <th><a href="#slide39">Sound</a></th>
        <td><a href="#slide39">39</a></td>
      </tr>
      
      
      <tr id="toc-row-40">
        <th><a href="#slide40">Logging</a></th>
        <td><a href="#slide40">40</a></td>
      </tr>
      
      
      <tr id="toc-row-41">
        <th><a href="#slide41">Templates</a></th>
        <td><a href="#slide41">41</a></td>
      </tr>
      
      
      <tr id="toc-row-42">
        <th><a href="#slide42">Templates are easy</a></th>
        <td><a href="#slide42">42</a></td>
      </tr>
      
      
      <tr id="toc-row-43">
        <th><a href="#slide43">View summary</a></th>
        <td><a href="#slide43">43</a></td>
      </tr>
      
      
      <tr id="toc-row-44">
        <th><a href="#slide44">Sync</a></th>
        <td><a href="#slide44">44</a></td>
      </tr>
      
      
      <tr id="toc-row-45">
        <th><a href="#slide45">Backbone sync</a></th>
        <td><a href="#slide45">45</a></td>
      </tr>
      
      
      <tr id="toc-row-46">
        <th><a href="#slide46">Switch on context</a></th>
        <td><a href="#slide46">46</a></td>
      </tr>
      
      
      <tr id="toc-row-47">
        <th><a href="#slide47">Overriding encouraged</a></th>
        <td><a href="#slide47">47</a></td>
      </tr>
      
      
      <tr id="toc-row-48">
        <th><a href="#slide48">Drives persistance of <code>Model</code></a></th>
        <td><a href="#slide48">48</a></td>
      </tr>
      
      
      <tr id="toc-row-49">
        <th><a href="#slide49">And <code>Collection</code></a></th>
        <td><a href="#slide49">49</a></td>
      </tr>
      
      
      <tr id="toc-row-50">
        <th><a href="#slide50">Sync summary</a></th>
        <td><a href="#slide50">50</a></td>
      </tr>
      
      
      <tr id="toc-row-51">
        <th><a href="#slide51">Routing</a></th>
        <td><a href="#slide51">51</a></td>
      </tr>
      
      
      <tr id="toc-row-52">
        <th><a href="#slide52">Role of router</a></th>
        <td><a href="#slide52">52</a></td>
      </tr>
      
      
      <tr id="toc-row-53">
        <th><a href="#slide53">Router summary</a></th>
        <td><a href="#slide53">53</a></td>
      </tr>
      
      
      <tr id="toc-row-54">
        <th><a href="#slide54">Backbone roundup</a></th>
        <td><a href="#slide54">54</a></td>
      </tr>
      
      
      <tr id="toc-row-55">
        <th><a href="#slide55">Question time</a></th>
        <td><a href="#slide55">55</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>
